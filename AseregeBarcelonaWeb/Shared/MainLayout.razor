@inherits LayoutComponentBase
<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar style="background-color:black;" Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
        <MudSpacer />

        <MudMenu Color="Color.Warning" Class="pr-4" Label="Home" />
        <MudMenu Color="Color.Warning" Class="pr-4" Label="Transportes" />
        <MudMenu Color="Color.Warning" Class="pr-4" Label="Quienes somos" />
                                     
       
        <MudMenu>
            <ActivatorContent>
                <Multiavatar Width="48px" Height="48px" AvatarId="Pepe" />                
            </ActivatorContent>
            <ChildContent>
                <MudMenuItem Icon="@Icons.Material.Filled.Edit">Perfil</MudMenuItem>                
                <MudMenuItem OnClick="@(async(e) => await CloseSession())" Icon="@Icons.Material.Filled.Logout">Cerrar Sesión</MudMenuItem>
            </ChildContent>
        </MudMenu>

    </MudAppBar>
    <MudDrawer @bind-Open="ChangeSidebar" Elevation="2">
        <MudDrawerHeader>
            <MudText Typo="Typo.h5" Class="mt-1">Aserege Framework</MudText>
        </MudDrawerHeader>                
      
        <NavMenu />

    </MudDrawer>
    <MudMainContent Class="px-4">@Body</MudMainContent>
</MudLayout>
@code {
    bool ChangeSidebar = true;

    void DrawerToggle()
    {
        ChangeSidebar = !ChangeSidebar;
    }

    private async Task CloseSession()
    {
         string nombre = await jsRuntime.InvokeAsync<string>("localStorage.removeItem", "Name");          
         string Password = await jsRuntime.InvokeAsync<string>("localStorage.removeItem", "Password");              
    }

}